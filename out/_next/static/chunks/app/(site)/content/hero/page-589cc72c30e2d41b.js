(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8652],{1278:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(5155),s=a(2115),n=a(6766),r=a(5695);let o=()=>{var e;let t=(0,r.useRouter)(),[a,o]=(0,s.useState)(""),[i,c]=(0,s.useState)(null),[d,m]=(0,s.useState)({lables:[]}),u=e=>{let{name:t,value:a}=e.target;m(e=>({...e,[t]:a}))},h=(e,t)=>{let a=[...d.lables];a[e].label=t,m(e=>({...e,lables:a}))},p=async(e,t)=>{var a;let l=null===(a=t.target.files)||void 0===a?void 0:a[0];if(l){let t=[...d.lables];if(t[e].src="/images/hero/".concat(l.name),m(e=>({...e,lables:t})),!l)return;let a=new FormData;a.append("file",l),a.append("filePath","/images/hero/"),await fetch("https://bexatm.com/ImageUpload.php",{method:"POST",body:a})}},b=async()=>{try{let e=await fetch("https://bexatm.com/ContentManageSys.php?contentId=C001");if(!e.ok)throw Error("Failed to fetch pages");let t=await e.json();m(t),o("https://bexatm.com".concat(t.image))}catch(e){console.error("Error loading pages:",e)}};(0,s.useEffect)(()=>{b()},[]);let f=async()=>{await fetch("https://bexatm.com/ContentManageSys.php?contentId=C001",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),x(),alert("Pages saved!")},x=async()=>{if(!i)return;let e=new FormData;e.append("file",i),e.append("filePath","/images/hero/"),await fetch("https://bexatm.com/ImageUpload.php",{method:"POST",body:e})};return(0,l.jsx)("section",{className:"!py-0 relative",children:d&&(0,l.jsx)("div",{className:"fixed inset-0 bg-opacity-60 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-dark w-full h-full max-w-3xl mx-auto p-8 overflow-auto relative rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Edit Hero Section"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f()},children:[(0,l.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Hero Title"}),(0,l.jsx)("input",{type:"text",name:"title",value:d.title||"",onChange:u,className:"w-full mb-4 p-2 border rounded"}),(0,l.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Button Text"}),(0,l.jsx)("input",{type:"text",name:"Button1",value:d.Button1||"",onChange:u,className:"w-full mb-4 p-2 border rounded"}),(0,l.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Hero Image"}),a&&(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(n.default,{src:a,alt:"Preview",width:200,height:150,unoptimized:!0})}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(c(a),o(URL.createObjectURL(a)),m(e=>({...e,image:"/images/hero/".concat(a.name)})))},className:"mb-4"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Labels"}),null===(e=d.lables)||void 0===e?void 0:e.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-2 border p-2 rounded",children:[e.src&&(0,l.jsx)(n.default,{src:"https://bexatm.com".concat(e.src),alt:"icon",width:40,height:40,unoptimized:!0}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>p(t,e)}),(0,l.jsx)("input",{type:"text",value:e.label,onChange:e=>h(t,e.target.value),placeholder:"Enter label",className:"flex-1 p-2 border rounded"})]},e.id))]}),(0,l.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded hover:bg-opacity-90",children:"Save"})]}),(0,l.jsx)("button",{className:"absolute top-4 right-6 text-gray-500 hover:text-black dark:hover:text-white text-3xl",onClick:()=>t.back(),children:"âœ•"})]})})})}},1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return o}});let l=a(8229),s=a(8883),n=a(3063),r=l._(a(1193));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=n.Image},5695:(e,t,a)=>{"use strict";var l=a(8999);a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var l=a(1469),s=a.n(l)},7662:(e,t,a)=>{Promise.resolve().then(a.bind(a,1278))}},e=>{var t=t=>e(e.s=t);e.O(0,[3063,8441,1684,7358],()=>t(7662)),_N_E=e.O()}]);