(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7725],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return c},getImageProps:function(){return l}});let n=a(8229),s=a(8883),r=a(3063),o=n._(a(1193));function l(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let c=r.Image},4633:(e,t,a)=>{Promise.resolve().then(a.bind(a,9859))},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var n=a(1469),s=a.n(n)},9859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(5155),s=a(2115),r=a(6766),o=a(5695);let l=()=>{let e=(0,o.useSearchParams)(),t=e.get("contentID"),a=e.get("contentTextID"),l=e.get("contentType"),c=(0,o.useRouter)(),[i,u]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(null),[p,g]=(0,s.useState)({lables:[]}),x=async()=>{try{let e=await fetch("https://bexatm.com/ContentManageSys.php?contentId=".concat(t));if(!e.ok)throw Error("Failed to fetch pages");let n=await e.json();console.log(n,"----------"),g(n),n&&("T"==l&&m(n["".concat(a)]),"I"==l&&u("https://bexatm.com".concat(n["".concat(a)])))}catch(e){console.error("Error loading pages:",e)}};(0,s.useEffect)(()=>{x()},[]);let b=async()=>{await fetch("https://bexatm.com/ContentManageSysV1.php?contentId=".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cmsTextID:a,cmsText:d})}),"I"==l&&v(),alert("Pages saved!")},v=async()=>{if(!h)return;let e=new FormData;e.append("file",h),e.append("filePath","/images/"),await fetch("https://bexatm.com/ImageUpload.php",{method:"POST",body:e})};return(0,n.jsx)("section",{className:"!py-0 relative",children:p&&(0,n.jsx)("div",{className:"fixed inset-0 bg-opacity-60 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-dark w-full h-full max-w-3xl mx-auto p-8 overflow-auto relative rounded-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Content Manage"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b()},children:["T"==l&&(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Caption"}),(0,n.jsx)("textarea",{name:"title",value:d||"",onChange:e=>{let{value:t}=e.target;m(t)},className:"w-full mb-4 p-2 border rounded",rows:4})]}),"I"==l&&(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("label",{className:"block mb-2 text-sm font-medium",children:"Image"}),i&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(r.default,{src:i,alt:"Preview",width:200,height:150,unoptimized:!0})}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(f(a),u(URL.createObjectURL(a)),m("/images/".concat(a.name)))},className:"mb-4"})]}),(0,n.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded hover:bg-opacity-90",children:"Save"})]}),(0,n.jsx)("button",{className:"absolute top-4 right-6 text-gray-500 hover:text-black dark:hover:text-white text-3xl",onClick:()=>c.back(),children:"âœ•"})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3063,8441,1684,7358],()=>t(4633)),_N_E=e.O()}]);